<link rel="stylesheet" href="css/pikaday.css">
<div class="col-md-7 col-md-offset-2">
    <form role="form" action="../advertise/edit" target="hidden_iframe" method="post" enctype="multipart/form-data" onsubmit="return checkBeforeSubmit('您确定要进行此操作吗？', this);">
        <div class="form-group">
            <label for="advertise_texts">文字描述：</label>
            <input id="advertise_texts" ng-model="advertise.texts" class="form-control" name="texts" placeholder="请输入文字描述……" required="required"/>
            <input id="advertise_callback" class="form-control empty" name="callback" value="parent.updateAdvertiseCompletedAndGoBack"/>
            <input id="advertise_id" class="form-control empty" name="id" ng-model="advertise.id"/>
        </div>
        <div class="form-group">
            <label for="advertise_type">广告类型：</label>
            <select id="advertise_type" class="form-control" name="type" ng-model="advertise.type">
                <option value="1">简单投放广告</option>
                <option value="2">按次数收费广告</option>
                <option value="3">启动屏广告</option>
            </select>
        </div>
        <div class="form-group">
            <label for="start_time">开始时间：</label>
            <input type="text" name="startTime" class="form-control" id="start_time" ng-model="advertise.startTime" required="required" placeholder="请输入开始时间……">
        </div>
        <div class="form-group">
            <label for="due_time">结束时间：</label>
            <input type="text" name="dueTime" class="form-control" id="due_time" required="required" ng-model="advertise.dueTime" placeholder="请输入结束时间……">
        </div>
        <div class="form-group">
            <label for="responsible_person">负责人：</label>
            <select id="responsible_person" class="form-control" name="responsiblePerson" required="required"
                    ng-options="person.name for person in responsibles track by person.id"
                    ng-model="selectedPerson">
                <option value="" selected disabled>请选择负责人……</option>
            </select>
        </div>
        <div class="form-group">
            <label for="advertise_hypelink">广告链接：</label>
            <input type="text" name="hypelink" class="form-control" id="advertise_hypelink" required="required" ng-model="advertise.hypelink" placeholder="请输入广告的链接……">
        </div>
        <div class="form-group">
            <label for="advertise_picture">广告图片：</label>
            <div>
                <img ng-src="{{advertise.picture}}" class="img-thumbnail"  ng-class="{'empty': advertise.picture === undefined || advertise.picture === ''}">
            </div>
            <input id="advertise_picture" type="file" name="picture"/>
        </div>
        <button type="submit" class="btn btn-primary">保存</button>
        <button type="button" class="btn btn-default" onclick="goBack()">取消</button>
        <a class="btn btn-success" href="#/advertise/click/show/{{advertise.id}}">查看点击详情</a>
        <iframe id="hidden_iframe" class="empty" name="hidden_iframe"></iframe>
        <div id="blank-footer"></div>
    </form>
</div>
<script src="js/moment.js"></script>
<script src="js/pikaday.js"></script>
<script>
    var startTimePicker = new Pikaday({
            field: document.getElementById('start_time'),
            format: "YYYY-MM-DD",
        });
    var dueTimePicker = new Pikaday({
            field: document.getElementById('due_time'),
            format: "YYYY-MM-DD",
        });
</script>
